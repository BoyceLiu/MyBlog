(function(){const t=document.getElementById("search-query"),e=document.getElementById("search-results");let n,s;fetch("/index.json").then(e=>e.json()).then(e=>{s=e;const t={keys:["title","tags","summary"],includeScore:!0,threshold:.4,minMatchCharLength:2,ignoreLocation:!0};n=new Fuse(s,t)}).catch(e=>console.error("Error fetching search index:",e)),t.addEventListener("input",function(){const t=this.value;if(t.length<2){e.innerHTML="",e.style.display="none";return}const s=n.search(t);o(s)});function o(t){if(e.innerHTML="",t.length>0){const n=document.createElement("ul");t.slice(0,10).forEach(e=>{const s=document.createElement("li"),t=document.createElement("a");t.href=e.item.permalink,t.textContent=e.item.title,s.appendChild(t),n.appendChild(s)}),e.appendChild(n),e.style.display="block"}else e.style.display="none"}document.addEventListener("click",function(n){!e.contains(n.target)&&n.target!==t&&(e.style.display="none")})})()